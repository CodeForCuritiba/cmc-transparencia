<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CMC Transparência</title>

    <meta name="viewport" content="width=device-width, user-scalable=yes">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.2/css/bulma.min.css">
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css">
    <style>
        body{ overflow: auto;  }
        .spinner { margin: 100px auto; width: 50px; height: 40px; text-align: center; font-size: 10px; z-index: 10;}
        .spinner > div { background-color: white; height: 100%; width: 6px; display: inline-block; -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out; animation: sk-stretchdelay 1.2s infinite ease-in-out; }
        .spinner .rect2 { -webkit-animation-delay: -1.1s; animation-delay: -1.1s; }
        .spinner .rect3 { -webkit-animation-delay: -1.0s; animation-delay: -1.0s; }
        .spinner .rect4 { -webkit-animation-delay: -0.9s; animation-delay: -0.9s; }
        .spinner .rect5 { -webkit-animation-delay: -0.8s; animation-delay: -0.8s; }
        @-webkit-keyframes sk-stretchdelay {
          0%, 40%, 100% { -webkit-transform: scaleY(0.4) }
          20% { -webkit-transform: scaleY(1.0) }
        }
        @keyframes sk-stretchdelay {
          0%, 40%, 100% {
            transform: scaleY(0.4);
            -webkit-transform: scaleY(0.4);
          }  20% {
            transform: scaleY(1.0);
            -webkit-transform: scaleY(1.0);
          }
        }
    </style>
</head>
<body>
    <div class="modal loading-model">
        <div class="spinner">
          <div class="rect1"></div>
          <div class="rect2"></div>
          <div class="rect3"></div>
          <div class="rect4"></div>
          <div class="rect5"></div>
        </div>
        <div class="modal-background"></div>

    </div>
    <div class="container is-fluid">
        <div class="field is-grouped">
            <p class="control">
                <button class="button" data-table="vereadores">Vereadores</button>
            </p>
            <p class="control">
                <button class="button" data-table="efetivos">Efetivos</button>
            </p>
            <p class="control">
                <button class="button" data-table="comissionados">Comissionados</button>
            </p>
            <p class="control">
                <button class="button" data-table="inativos">Inativos</button>
            </p>
            <p class="control">
                <button class="button" data-table="ouvidor">Ouvidor</button>
            </p>
            <p class="control">
                <button class="button" data-table="cedido-para-camara">Cedido para a Câmara</button>
            </p>
            <p class="control">
                <button class="button" data-table="cedido-pela-camara">Cedido pela Câmara</button>
            </p>
            <p class="control">
                <button class="button" data-table="temporario">Temporário</button>
            </p>
            <p class="control">
                <button class="button" data-table="estagiario">Estagiário</button>
            </p>
        </div>

        <div id="table-placeholder">

        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="//cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <script>
    $(function(){
        var url = 'https://raw.githubusercontent.com/CodeForCuritiba/cmc-transparencia/master/html/'

        $('[data-table]').click(function(){
            var name = $(this).attr('data-table')
            var htmlUrl = url + name + '.html'

            $('#table-placeholder').html('')

            $('.loading-model').addClass('is-active')

            $.get(htmlUrl, function(data){
                $('#table-placeholder').append(data)
                $('table').addClass('table is-bordered is-striped is-narrow')
                $('table').DataTable({
                    paging: false,
                    searching: true,
                    order: [[0, 'asc']],
                    language: {
                        url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Portuguese-Brasil.json'
                    }
                })
            })
                .always(function(){
                    $('.loading-model').removeClass('is-active')
                })
        })
    })
    </script>
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '59543e8abad3a707370020bc');
        t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
        t.src = 'https://d36ee2fcip1434.cloudfront.net/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-101883582-1', 'auto');
      ga('send', 'pageview');

    </script>
</body>
</html>
